import{s as _e,n as he,d as m,y as we,z as Q,a as be,b as t,i as oe,A as W,H as ye,l as e,m as xe,c as a,g as E,e as k,o as R,f as ae,h as n,j as C,t as ne,k as Ee,x as Ce}from"../chunks/CtARYoZa.js";import{S as ke,i as Le}from"../chunks/CJBvT94Z.js";import{l as De,i as Ie}from"../chunks/SJ4qyNXX.js";import{g as se}from"../chunks/CfqzmGcx.js";import{t as U}from"../chunks/DcmIUciy.js";function ve(c){let u,s,h,o=c[0]==="user@example.com"?"Using demo mode with demo credentials.":"Try using demo credentials below.",i;return{c(){u=n("div"),s=n("p"),h=ne("Cannot connect to the server. "),i=ne(o),this.h()},l(f){u=a(f,"DIV",{class:!0});var v=k(u);s=a(v,"P",{class:!0});var r=k(s);h=ae(r,"Cannot connect to the server. "),i=ae(r,o),r.forEach(m),v.forEach(m),this.h()},h(){e(s,"class","text-yellow-700"),e(u,"class","bg-yellow-50 border-l-4 border-yellow-400 p-4")},m(f,v){oe(f,u,v),t(u,s),t(s,h),t(s,i)},p(f,v){v&1&&o!==(o=f[0]==="user@example.com"?"Using demo mode with demo credentials.":"Try using demo credentials below.")&&be(i,o)},d(f){f&&m(u)}}}function Te(c){let u,s,h,o,i,f="Login",v,r,y,x,F="Email",B,p,_,T,L,le="Password",X,b,Y,A,V,D,Z,N,ie="Remember me",$,P,ce="Forgot password?",ee,j,H,I,S=c[2]?"Logging in...":"Login",q,te,M,ue=`<p class="text-sm text-gray-600">Don&#39;t have an account? 
          <a href="/register" class="text-primary hover:underline">Register</a></p>`,re,de,d=c[4]&&ve(c);return{c(){u=n("meta"),s=C(),h=n("div"),o=n("div"),i=n("h1"),i.textContent=f,v=C(),r=n("form"),y=n("div"),x=n("label"),x.textContent=F,B=C(),p=n("input"),_=C(),T=n("div"),L=n("label"),L.textContent=le,X=C(),b=n("input"),Y=C(),A=n("div"),V=n("div"),D=n("input"),Z=C(),N=n("label"),N.textContent=ie,$=C(),P=n("a"),P.textContent=ce,ee=C(),d&&d.c(),j=C(),H=n("div"),I=n("button"),q=ne(S),te=C(),M=n("div"),M.innerHTML=ue,this.h()},l(l){const g=xe("svelte-tqo2f0",document.head);u=a(g,"META",{name:!0,content:!0}),g.forEach(m),s=E(l),h=a(l,"DIV",{class:!0});var me=k(h);o=a(me,"DIV",{class:!0});var O=k(o);i=a(O,"H1",{class:!0,"data-svelte-h":!0}),R(i)!=="svelte-wxscdp"&&(i.textContent=f),v=E(O),r=a(O,"FORM",{class:!0});var w=k(r);y=a(w,"DIV",{});var z=k(y);x=a(z,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(x)!=="svelte-86kff7"&&(x.textContent=F),B=E(z),p=a(z,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),z.forEach(m),_=E(w),T=a(w,"DIV",{});var G=k(T);L=a(G,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(L)!=="svelte-11ixk5b"&&(L.textContent=le),X=E(G),b=a(G,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),G.forEach(m),Y=E(w),A=a(w,"DIV",{class:!0});var J=k(A);V=a(J,"DIV",{class:!0});var K=k(V);D=a(K,"INPUT",{type:!0,id:!0,class:!0}),Z=E(K),N=a(K,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(N)!=="svelte-124evir"&&(N.textContent=ie),K.forEach(m),$=E(J),P=a(J,"A",{href:!0,class:!0,"data-svelte-h":!0}),R(P)!=="svelte-12en3n2"&&(P.textContent=ce),J.forEach(m),ee=E(w),d&&d.l(w),j=E(w),H=a(w,"DIV",{});var fe=k(H);I=a(fe,"BUTTON",{type:!0,class:!0});var pe=k(I);q=ae(pe,S),pe.forEach(m),fe.forEach(m),te=E(w),M=a(w,"DIV",{class:!0,"data-svelte-h":!0}),R(M)!=="svelte-122tvca"&&(M.innerHTML=ue),w.forEach(m),O.forEach(m),me.forEach(m),this.h()},h(){document.title="Login | Damned Designs",e(u,"name","description"),e(u,"content","Log in to your Damned Designs account to view orders, manage your profile, and more."),e(i,"class","text-3xl font-bold mb-6 text-center"),e(x,"for","email"),e(x,"class","block mb-2 font-bold"),e(p,"type","email"),e(p,"id","email"),e(p,"class","w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary pointer-events-auto"),e(p,"placeholder","your@email.com"),p.disabled=c[2],e(L,"for","password"),e(L,"class","block mb-2 font-bold"),e(b,"type","password"),e(b,"id","password"),e(b,"class","w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary pointer-events-auto"),e(b,"placeholder","••••••••"),b.disabled=c[2],e(D,"type","checkbox"),e(D,"id","remember"),e(D,"class","h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded pointer-events-auto"),e(N,"for","remember"),e(N,"class","ml-2 block text-sm text-gray-700"),e(V,"class","flex items-center"),e(P,"href","/forgot-password"),e(P,"class","text-sm text-primary hover:underline"),e(A,"class","flex items-center justify-between"),e(I,"type","submit"),e(I,"class","w-full btn btn-primary pointer-events-auto"),I.disabled=c[2],e(M,"class","text-center mt-4"),e(r,"class","space-y-6"),e(o,"class","max-w-md mx-auto bg-white p-8 rounded-lg shadow-md"),e(h,"class","container py-12")},m(l,g){t(document.head,u),oe(l,s,g),oe(l,h,g),t(h,o),t(o,i),t(o,v),t(o,r),t(r,y),t(y,x),t(y,B),t(y,p),Q(p,c[0]),t(r,_),t(r,T),t(T,L),t(T,X),t(T,b),Q(b,c[1]),t(r,Y),t(r,A),t(A,V),t(V,D),D.checked=c[3],t(V,Z),t(V,N),t(A,$),t(A,P),t(r,ee),d&&d.m(r,null),t(r,j),t(r,H),t(H,I),t(I,q),t(r,te),t(r,M),re||(de=[W(p,"input",c[6]),W(b,"input",c[7]),W(D,"change",c[8]),W(r,"submit",ye(c[5]))],re=!0)},p(l,[g]){g&4&&(p.disabled=l[2]),g&1&&p.value!==l[0]&&Q(p,l[0]),g&4&&(b.disabled=l[2]),g&2&&b.value!==l[1]&&Q(b,l[1]),g&8&&(D.checked=l[3]),l[4]?d?d.p(l,g):(d=ve(l),d.c(),d.m(r,j)):d&&(d.d(1),d=null),g&4&&S!==(S=l[2]?"Logging in...":"Login")&&be(q,S),g&4&&(I.disabled=l[2])},i:he,o:he,d(l){l&&(m(s),m(h)),m(u),d&&d.d(),re=!1,we(de)}}}const ge=2;function Ae(c,u,s){let h;Ee(c,Ie,_=>s(10,h=_));let o="user@example.com",i="password",f=!1,v=!1,r=!1,y=0;Ce(()=>{h&&se("/account")});async function x(){if(!o||!i){U.error("Please enter both email and password");return}s(2,f=!0),s(4,r=!1);try{await De(o,i)?(U.success("Login successful!"),se("/account")):U.error("Invalid email or password")}catch(_){if(console.error("Login error:",_),_ instanceof Error&&(_.message.includes("Network Error")||_.message.includes("Failed to fetch")||_.toString().includes("TypeError")))if(s(4,r=!0),o==="user@example.com"&&i==="password")if(y<ge){y++,U.error(`Network error. Retrying with demo account (${y}/${ge})...`),await new Promise(L=>setTimeout(L,1e3)),s(2,f=!1),x();return}else{U.success("Logged in with demo account due to network issues"),se("/account");return}else U.error("Cannot connect to server. Check your connection or try the demo account.");else U.error("An error occurred during login")}finally{s(2,f=!1)}}function F(){o=this.value,s(0,o)}function B(){i=this.value,s(1,i)}function p(){v=this.checked,s(3,v)}return[o,i,f,v,r,x,F,B,p]}class Re extends ke{constructor(u){super(),Le(this,u,Ae,Te,_e,{})}}export{Re as component};
