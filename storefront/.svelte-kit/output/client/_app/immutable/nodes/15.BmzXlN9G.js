import{_ as X}from"../chunks/C1FmrZbK.js";import{getAllProducts as Y}from"../chunks/CEWqOmfF.js";import{s as R,d as v,F as q,y as H,z as N,i as T,b as y,A as I,l as _,c as b,e as E,g as P,h as $,j as D,T as Z,f as ee,t as te,m as re,o as O,x as ae,n as j}from"../chunks/CtARYoZa.js";import{S as K,i as G,d as A,t as S,a as x,m as F,c as L,b as M,e as J,g as W}from"../chunks/CJBvT94Z.js";import{e as V}from"../chunks/CCLH35N-.js";import{P as le}from"../chunks/DVdDg2k-.js";import{S as ne}from"../chunks/3IqKhqHc.js";async function se(){try{return{products:await Y()}}catch(o){console.error("Error loading products:",o);const{products:e}=await X(async()=>{const{products:r}=await import("../chunks/CRshKf2J.js");return{products:r}},[],import.meta.url);return{products:e.map(r=>({...r,image:r.image||`/images/products/${r.slug}.jpg`,variations:(r.variations||[]).map(a=>({...a,image:a.image||`/images/products/${r.slug}.jpg`}))}))}}}const $e=Object.freeze(Object.defineProperty({__proto__:null,load:se},Symbol.toStringTag,{value:"Module"}));function B(o,e,r){const a=o.slice();return a[9]=e[r],a}function z(o){let e,r=o[9].name+"",a,t,n,s,i,l;function m(){return o[5](o[9])}function f(...u){return o[6](o[9],...u)}return{c(){e=$("button"),a=te(r),t=D(),this.h()},l(u){e=b(u,"BUTTON",{class:!0,"aria-pressed":!0,"aria-label":!0});var h=E(e);a=ee(h,r),t=P(h),h.forEach(v),this.h()},h(){_(e,"class",n=`px-4 py-2 rounded-full border ${o[0]===o[9].id?"bg-primary text-white border-primary":"bg-white text-primary border-gray-300 hover:bg-gray-100"}`),_(e,"aria-pressed",s=o[0]===o[9].id),_(e,"aria-label",`Filter by ${o[9].name}`)},m(u,h){T(u,e,h),y(e,a),y(e,t),i||(l=[I(e,"click",m),I(e,"keydown",f)],i=!0)},p(u,h){o=u,h&1&&n!==(n=`px-4 py-2 rounded-full border ${o[0]===o[9].id?"bg-primary text-white border-primary":"bg-white text-primary border-gray-300 hover:bg-gray-100"}`)&&_(e,"class",n),h&1&&s!==(s=o[0]===o[9].id)&&_(e,"aria-pressed",s)},d(u){u&&v(e),i=!1,H(l)}}}function oe(o){let e,r,a,t,n,s,i,l,m,f,u,h=V(o[2]),p=[];for(let d=0;d<h.length;d+=1)p[d]=z(B(o,h,d));return l=new ne({props:{size:18}}),{c(){e=$("div"),r=$("div");for(let d=0;d<p.length;d+=1)p[d].c();a=D(),t=$("div"),n=$("input"),s=D(),i=$("div"),M(l.$$.fragment),this.h()},l(d){e=b(d,"DIV",{class:!0});var k=E(e);r=b(k,"DIV",{class:!0});var c=E(r);for(let C=0;C<p.length;C+=1)p[C].l(c);c.forEach(v),a=P(k),t=b(k,"DIV",{class:!0});var g=E(t);n=b(g,"INPUT",{type:!0,placeholder:!0,"aria-label":!0,class:!0}),s=P(g),i=b(g,"DIV",{class:!0});var w=E(i);L(l.$$.fragment,w),w.forEach(v),g.forEach(v),k.forEach(v),this.h()},h(){_(r,"class","flex flex-wrap gap-2"),_(n,"type","text"),_(n,"placeholder","Search products..."),_(n,"aria-label","Search products"),_(n,"class","w-full md:w-64 pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"),_(i,"class","absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"),_(t,"class","relative"),_(e,"class","flex flex-col md:flex-row justify-between gap-6")},m(d,k){T(d,e,k),y(e,r);for(let c=0;c<p.length;c+=1)p[c]&&p[c].m(r,null);y(e,a),y(e,t),y(t,n),N(n,o[1]),y(t,s),y(t,i),F(l,i,null),m=!0,f||(u=[I(n,"input",o[7]),I(n,"input",o[4])],f=!0)},p(d,[k]){if(k&13){h=V(d[2]);let c;for(c=0;c<h.length;c+=1){const g=B(d,h,c);p[c]?p[c].p(g,k):(p[c]=z(g),p[c].c(),p[c].m(r,null))}for(;c<p.length;c+=1)p[c].d(1);p.length=h.length}k&2&&n.value!==d[1]&&N(n,d[1])},i(d){m||(x(l.$$.fragment,d),m=!0)},o(d){S(l.$$.fragment,d),m=!1},d(d){d&&v(e),q(p,d),A(l),f=!1,H(u)}}}function ie(o,e,r){const a=Z();let t="all",n="";const s=[{id:"all",name:"All Products"},{id:"knives",name:"Knives"},{id:"tools",name:"Tools"},{id:"accessories",name:"Accessories"}];function i(h){r(0,t=h),a("categoryChange",h)}function l(){a("search",n)}const m=h=>i(h.id),f=(h,p)=>p.key==="Enter"&&i(h.id);function u(){n=this.value,r(1,n)}return[t,n,s,i,l,m,f,u]}class ce extends K{constructor(e){super(),G(this,e,ie,oe,R,{})}}function U(o,e,r){const a=o.slice();return a[8]=e[r],a}function ue(o){let e,r,a="No products found matching your criteria.",t,n,s="Reset Filters",i,l;return{c(){e=$("div"),r=$("p"),r.textContent=a,t=D(),n=$("button"),n.textContent=s,this.h()},l(m){e=b(m,"DIV",{class:!0});var f=E(e);r=b(f,"P",{class:!0,"data-svelte-h":!0}),O(r)!=="svelte-1cig8eh"&&(r.textContent=a),t=P(f),n=b(f,"BUTTON",{class:!0,"data-svelte-h":!0}),O(n)!=="svelte-16mrx6u"&&(n.textContent=s),f.forEach(v),this.h()},h(){_(r,"class","text-xl"),_(n,"class","mt-4 btn btn-primary"),_(e,"class","text-center py-12")},m(m,f){T(m,e,f),y(e,r),y(e,t),y(e,n),i||(l=I(n,"click",o[7]),i=!0)},p:j,i:j,o:j,d(m){m&&v(e),i=!1,l()}}}function de(o){let e,r,a=V(o[0]),t=[];for(let s=0;s<a.length;s+=1)t[s]=Q(U(o,a,s));const n=s=>S(t[s],1,1,()=>{t[s]=null});return{c(){e=$("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=b(s,"DIV",{class:!0});var i=E(e);for(let l=0;l<t.length;l+=1)t[l].l(i);i.forEach(v),this.h()},h(){_(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8")},m(s,i){T(s,e,i);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null);r=!0},p(s,i){if(i&1){a=V(s[0]);let l;for(l=0;l<a.length;l+=1){const m=U(s,a,l);t[l]?(t[l].p(m,i),x(t[l],1)):(t[l]=Q(m),t[l].c(),x(t[l],1),t[l].m(e,null))}for(W(),l=a.length;l<t.length;l+=1)n(l);J()}},i(s){if(!r){for(let i=0;i<a.length;i+=1)x(t[i]);r=!0}},o(s){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)S(t[i]);r=!1},d(s){s&&v(e),q(t,s)}}}function Q(o){let e,r;return e=new le({props:{product:o[8]}}),{c(){M(e.$$.fragment)},l(a){L(e.$$.fragment,a)},m(a,t){F(e,a,t),r=!0},p(a,t){const n={};t&1&&(n.product=a[8]),e.$set(n)},i(a){r||(x(e.$$.fragment,a),r=!0)},o(a){S(e.$$.fragment,a),r=!1},d(a){A(e,a)}}}function fe(o){let e,r,a,t,n,s="Our Products",i,l,m,f,u,h;l=new ce({}),l.$on("categoryChange",o[4]),l.$on("search",o[5]);const p=[de,ue],d=[];function k(c,g){return c[0].length>0?0:1}return f=k(o),u=d[f]=p[f](o),{c(){e=$("meta"),r=D(),a=$("section"),t=$("div"),n=$("h1"),n.textContent=s,i=D(),M(l.$$.fragment),m=D(),u.c(),this.h()},l(c){const g=re("svelte-1hp67ir",document.head);e=b(g,"META",{name:!0,content:!0}),g.forEach(v),r=P(c),a=b(c,"SECTION",{class:!0});var w=E(a);t=b(w,"DIV",{class:!0});var C=E(t);n=b(C,"H1",{class:!0,"data-svelte-h":!0}),O(n)!=="svelte-1l6xv4j"&&(n.textContent=s),i=P(C),L(l.$$.fragment,C),m=P(C),u.l(C),C.forEach(v),w.forEach(v),this.h()},h(){document.title="Products | Damned Designs",_(e,"name","description"),_(e,"content","Browse our collection of premium knives and EDC gear. Find the perfect tool for your everyday carry needs."),_(n,"class","text-4xl font-bold mb-8 text-center"),_(t,"class","container"),_(a,"class","py-12 bg-white")},m(c,g){y(document.head,e),T(c,r,g),T(c,a,g),y(a,t),y(t,n),y(t,i),F(l,t,null),y(t,m),d[f].m(t,null),h=!0},p(c,[g]){let w=f;f=k(c),f===w?d[f].p(c,g):(W(),S(d[w],1,1,()=>{d[w]=null}),J(),u=d[f],u?u.p(c,g):(u=d[f]=p[f](c),u.c()),x(u,1),u.m(t,null))},i(c){h||(x(l.$$.fragment,c),x(u),h=!0)},o(c){S(l.$$.fragment,c),S(u),h=!1},d(c){c&&(v(r),v(a)),v(e),A(l),d[f].d()}}}function he(o,e,r){let{data:a}=e,t=[...a.products],n="all",s="";function i(){r(0,t=a.products.filter(u=>{const h=n==="all"||u.category===n,p=u.name.toLowerCase().includes(s.toLowerCase())||u.description.toLowerCase().includes(s.toLowerCase());return h&&p}))}function l(u){r(1,n=u.detail),i()}function m(u){r(2,s=u.detail),i()}ae(()=>{i()});const f=()=>{r(1,n="all"),r(2,s=""),i()};return o.$$set=u=>{"data"in u&&r(6,a=u.data)},[t,n,s,i,l,m,a,f]}class ke extends K{constructor(e){super(),G(this,e,he,fe,R,{data:6})}}export{ke as component,$e as universal};
